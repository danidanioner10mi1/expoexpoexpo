{"remainingRequest":"D:\\Proyectos Tauro\\expoexpoexpo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Proyectos Tauro\\expoexpoexpo\\src\\components\\World.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Proyectos Tauro\\expoexpoexpo\\src\\components\\World.vue","mtime":1637811365785},{"path":"D:\\Proyectos Tauro\\expoexpoexpo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637805816000},{"path":"D:\\Proyectos Tauro\\expoexpoexpo\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1637805815996},{"path":"D:\\Proyectos Tauro\\expoexpoexpo\\node_modules\\babel-loader\\lib\\index.js","mtime":1637805825532},{"path":"D:\\Proyectos Tauro\\expoexpoexpo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637805816000},{"path":"D:\\Proyectos Tauro\\expoexpoexpo\\node_modules\\vue-loader\\lib\\index.js","mtime":1637805831338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIFRIUkVFIGZyb20gInRocmVlIjsKaW1wb3J0IFJBRk1hbmFnZXIgZnJvbSAicmFmLW1hbmFnZXIiOwppbXBvcnQgUm9ja3MgZnJvbSAiLi9Sb2NrcyI7CmltcG9ydCBBbGJ1bSBmcm9tICIuL0FsYnVtIjsKaW1wb3J0IE1vdXNlIGZyb20gIi4vTW91c2UiOwppbXBvcnQgRm9sbG93RWZmZWN0IGZyb20gIi4vRm9sbG93RWZmZWN0IjsKaW1wb3J0IHRleHR1cmUgZnJvbSAiLi4vYXNzZXRzL2RvdC5wbmciOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJXb3JsZCIsCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdFRocmVlKCk7CiAgICB0aGlzLmFkZExpZ2h0KCk7CiAgICB0aGlzLmFkZEJhY2tSb2NrcygpOwogICAgdGhpcy5hZGRBbGJ1bSgpOwogICAgdGhpcy5hZGRNb3VzZUFuZEVmZmVjdCgpOwoKICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKTsKICAgIFJBRk1hbmFnZXIuYWRkKHRoaXMucmVuZGVyKTsKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBpbml0VGhyZWU6IGZ1bmN0aW9uKCkgewogICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLiRyZWZzLmNvbnRhaW5lcjsKICAgICAgY29uc3QgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKAogICAgICAgIDQ1LAogICAgICAgIGNvbnRhaW5lci5vZmZzZXRXaWR0aCAvIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQsCiAgICAgICAgMSwKICAgICAgICAzMDAwCiAgICAgICk7CiAgICAgIGNhbWVyYS5wb3NpdGlvbi56ID0gNTAwOwoKICAgICAgY29uc3Qgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsKICAgICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGFscGhhOiB0cnVlIH0pOwogICAgICByZW5kZXJlci5zZXRQaXhlbFJhdGlvKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTsKICAgICAgcmVuZGVyZXIuc2V0U2l6ZShjb250YWluZXIub2Zmc2V0V2lkdGgsIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQpOwogICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7CiAgICAgIHJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwMDAwMDAsIDApOwogICAgICBjb25zdCBjbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpOwoKICAgICAgdGhpcy5jbG9jayA9IGNsb2NrOwogICAgICB0aGlzLnNjZW5lID0gc2NlbmU7CiAgICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhOwogICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7CiAgICB9LAoKICAgIGFkZExpZ2h0OiBmdW5jdGlvbigpIHsKICAgICAgY29uc3QgeyBzY2VuZSB9ID0gdGhpczsKCiAgICAgIGNvbnN0IGhlbWlMaWdodCA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoMHhmZmZmZmYsIDB4NDQ0NDQ0KTsKICAgICAgaGVtaUxpZ2h0LnBvc2l0aW9uLnNldCgwLCAxMDAwLCAwKTsKICAgICAgc2NlbmUuYWRkKGhlbWlMaWdodCk7CgogICAgICBjb25zdCBkaXJMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAwLjgpOwogICAgICBkaXJMaWdodC5wb3NpdGlvbi5zZXQoLTMwMDAsIDEwMDAsIC0xMDAwKTsKICAgICAgc2NlbmUuYWRkKGRpckxpZ2h0KTsKICAgIH0sCgogICAgYWRkQmFja1JvY2tzOiBmdW5jdGlvbigpIHsKICAgICAgY29uc3QgeyBzY2VuZSB9ID0gdGhpczsKICAgICAgY29uc3Qgcm9ja3MgPSBuZXcgUm9ja3MoKTsKICAgICAgcm9ja3MuYWRkVG9TY2VuZShzY2VuZSk7CiAgICAgIHRoaXMucm9ja3MgPSByb2NrczsKICAgIH0sCgogICAgYWRkQWxidW06IGZ1bmN0aW9uKCkgewogICAgICBjb25zdCB7IHNjZW5lLCBjYW1lcmEsIHJlbmRlcmVyIH0gPSB0aGlzOwogICAgICBjb25zdCBhbGJ1bSA9IG5ldyBBbGJ1bSh7IGNhbWVyYSwgcmVuZGVyZXIgfSk7CiAgICAgIGFsYnVtLmFkZFRvU2NlbmUoc2NlbmUpOwogICAgICB0aGlzLmFsYnVtID0gYWxidW07CiAgICB9LAoKICAgIGFkZE1vdXNlQW5kRWZmZWN0OiBmdW5jdGlvbigpIHsKICAgICAgY29uc3QgeyBzY2VuZSwgcmVuZGVyZXIsIGNhbWVyYSwgYWxidW0gfSA9IHRoaXM7CiAgICAgIGNvbnN0IGZvbGxvdyA9IG5ldyBGb2xsb3dFZmZlY3QoewogICAgICAgIHRleHR1cmUsCiAgICAgICAgcmVuZGVyZXIsCiAgICAgICAgY2FtZXJhLAogICAgICAgIHNjZW5lCiAgICAgIH0pOwoKICAgICAgbmV3IE1vdXNlKHsgZGlzcGxheTogYWxidW0uZGlzcGxheSwgY2FtZXJhLCByZW5kZXJlciB9KTsKCiAgICAgIHRoaXMuZm9sbG93ID0gZm9sbG93OwogICAgfSwKCiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgewogICAgICBjb25zdCB7IHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhLCByb2NrcywgY2xvY2ssIGZvbGxvdyB9ID0gdGhpczsKCiAgICAgIGZvbGxvdy5yZW5kZXIoKTsKICAgICAgcm9ja3MucmVuZGVyKGNsb2NrKTsKICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["World.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"World.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"world\" ref=\"container\"></div>\n</template>\n\n<script>\nimport * as THREE from \"three\";\nimport RAFManager from \"raf-manager\";\nimport Rocks from \"./Rocks\";\nimport Album from \"./Album\";\nimport Mouse from \"./Mouse\";\nimport FollowEffect from \"./FollowEffect\";\nimport texture from \"../assets/dot.png\";\n\nexport default {\n  name: \"World\",\n  mounted() {\n    this.initThree();\n    this.addLight();\n    this.addBackRocks();\n    this.addAlbum();\n    this.addMouseAndEffect();\n\n    this.render = this.render.bind(this);\n    RAFManager.add(this.render);\n  },\n  destroyed() {\n    RAFManager.remove(this.render);\n  },\n\n  methods: {\n    initThree: function() {\n      const container = this.$refs.container;\n      const camera = new THREE.PerspectiveCamera(\n        45,\n        container.offsetWidth / container.offsetHeight,\n        1,\n        3000\n      );\n      camera.position.z = 500;\n\n      const scene = new THREE.Scene();\n      const renderer = new THREE.WebGLRenderer({ alpha: true });\n      renderer.setPixelRatio(window.devicePixelRatio);\n      renderer.setSize(container.offsetWidth, container.offsetHeight);\n      container.appendChild(renderer.domElement);\n      renderer.setClearColor(0x000000, 0);\n      const clock = new THREE.Clock();\n\n      this.clock = clock;\n      this.scene = scene;\n      this.camera = camera;\n      this.renderer = renderer;\n    },\n\n    addLight: function() {\n      const { scene } = this;\n\n      const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);\n      hemiLight.position.set(0, 1000, 0);\n      scene.add(hemiLight);\n\n      const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);\n      dirLight.position.set(-3000, 1000, -1000);\n      scene.add(dirLight);\n    },\n\n    addBackRocks: function() {\n      const { scene } = this;\n      const rocks = new Rocks();\n      rocks.addToScene(scene);\n      this.rocks = rocks;\n    },\n\n    addAlbum: function() {\n      const { scene, camera, renderer } = this;\n      const album = new Album({ camera, renderer });\n      album.addToScene(scene);\n      this.album = album;\n    },\n\n    addMouseAndEffect: function() {\n      const { scene, renderer, camera, album } = this;\n      const follow = new FollowEffect({\n        texture,\n        renderer,\n        camera,\n        scene\n      });\n\n      new Mouse({ display: album.display, camera, renderer });\n\n      this.follow = follow;\n    },\n\n    render: function() {\n      const { renderer, scene, camera, rocks, clock, follow } = this;\n\n      follow.render();\n      rocks.render(clock);\n      renderer.render(scene, camera);\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.world {\n  position: absolute;\n  bottom: 0;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  \n   background:url('fondo.jpg');\n}\n</style>\n"]}]}